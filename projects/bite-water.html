<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Beverage Filling System - Miguel Clement</title>
    <link rel="icon" href="../favicon/favicon.png">
    <link rel="apple-touch-icon" href="../favicon/favicon.png">
    <link rel="manifest" href="../favicon/site.webmanifest">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: #ffffff;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        header {
            text-align: center;
            padding: 40px 0 60px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .breadcrumb {
            text-align: left;
            margin-bottom: 20px;
        }

        .breadcrumb a {
            color: #666666;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .breadcrumb a:hover {
            color: #000000;
        }

        .breadcrumb .separator {
            margin: 0 10px;
            color: #cccccc;
        }

        .breadcrumb .current {
            color: #000000;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: -0.02em;
            margin-bottom: 10px;
            color: #000000;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #666666;
            font-weight: 300;
            letter-spacing: 0.02em;
        }

        main {
            padding: 60px 0;
        }

        section {
            margin-bottom: 50px;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 20px;
            color: #000000;
            letter-spacing: -0.01em;
        }

        h3 {
            font-size: 1.3rem;
            font-weight: 400;
            margin-top: 30px;
            margin-bottom: 15px;
            color: #000000;
        }

        p {
            font-size: 1.05rem;
            color: #333333;
            margin-bottom: 15px;
            line-height: 1.7;
        }

        img {
            max-width: 100%;
            height: auto;
            margin: 30px 0;
            border: 1px solid #e0e0e0;
        }

        .tech-highlight {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-left: 3px solid #000000;
        }

        .video-container {
            margin: 30px 0;
            text-align: center;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000000;
            border: 1px solid #e0e0e0;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        ul {
            margin-left: 20px;
            margin-bottom: 30px;
            color: #333333;
        }

        ul li {
            margin-bottom: 8px;
        }

        .back-btn {
            display: inline-block;
            margin-top: 40px;
            padding: 12px 25px;
            background-color: transparent;
            color: #000;
            border: 1px solid #000;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background-color: #000;
            color: #fff;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
            border-top: 1px solid #e0e0e0;
            color: #666666;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }

            h1 {
                font-size: 2rem;
            }

            header {
                padding: 30px 0 40px 0;
            }

            main {
                padding: 40px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="../index.html">Home</a>
                <span class="separator">/</span>
                <a href="../about.html">About</a>
                <span class="separator">/</span>
                <span class="current">Automated Beverage Filling System</span>
            </div>
            <h1>Automated Beverage Filling System</h1>
            <p class="subtitle">High-Pressure Carbonated Liquid Handling with Precision Control (2020)</p>
        </header>

        <main>
            <p>During the COVID-19 pandemic, I tackled a complex engineering challenge: automating the precision filling of pressurized carbonated beverages. This project required solving problems in fluid dynamics, pressure control, precision mechanics, and automated sequencing—all while maintaining carbonation integrity throughout the filling process.</p>

            <h2>The Engineering Challenge</h2>

            <p>Carbonated beverages present a unique liquid handling problem: CO₂ remains dissolved in solution only under pressure. Any disturbance—especially rapid flow through narrow tubing—causes dissolved CO₂ to escape, resulting in degassing and foam formation. Traditional filling methods that work for still liquids fail catastrophically with carbonated beverages.</p>

            <img src="../projects/bite water/photos/manual.png" alt="Manual filling system test bench">

            <p>The technical requirements were demanding:</p>
            <ul>
                <li>Maintain 80 PSI system pressure throughout the filling operation</li>
                <li>Ensure perfect seal compression between can and filling spout</li>
                <li>Prevent any pressure drops that would trigger CO₂ degassing</li>
                <li>Achieve consistent, precise fill volumes across hundreds of cans</li>
                <li>Automate the entire sequence for repeatability and speed</li>
            </ul>

            <h2>Solution 1: Manual Pressure-Controlled System</h2>

            <p>My initial approach focused on solving the core mechanical challenge: maintaining pressure integrity while physically maneuvering cans into position.</p>

            <div class="tech-highlight">
                <h3>Z-Axis Elevator Mechanism</h3>
                <p><strong>Mechanical Design:</strong> I engineered a vertical positioning system inspired by 3D printer Z-axis designs, using stepper motors driving lead screws. While these motors lack high torque, they provide sufficient lifting force for the lightweight aluminum cans before pressurization occurs.</p>

                <p><strong>Pressure Resistance:</strong> Once the can is seated and the system pressurizes to 80 PSI, the mechanical advantage of the lead screw combined with the holding torque of the stepper motors effectively resists the downward force. This clever use of existing motor properties eliminated the need for additional locking mechanisms.</p>

                <p><strong>Seal Compression:</strong> The elevator precisely positions each can against a rubber stopper seal, creating an airtight interface capable of withstanding 80 PSI operating pressure without leakage.</p>
            </div>

            <img src="../projects/bite water/photos/v1.png" alt="Version 1 manual filling system">

            <p>This initial system required manual valve operation: one valve controlled liquid flow from the pressurized keg, while another vented displaced gas from the can headspace during filling. Operating these valves by hand taught me the precise timing required for optimal fills, knowledge that would prove essential for automation.</p>

            <h2>Solution 2: Fully Automated Filling System</h2>

            <p>The automated version transformed manual operations into a sophisticated robotics system with closed-loop control and intelligent sensing.</p>

            <div class="tech-highlight">
                <h3>Advanced Motor Control</h3>
                <p><strong>TMC2130 Sensorless Homing:</strong> The system leverages StallGuard technology built into TMC2130 stepper drivers. This feature detects when the can makes contact with the stopper by monitoring back-EMF changes as the motor encounters resistance. This eliminates physical limit switches while ensuring consistent, repeatable seal compression for every fill cycle.</p>

                <p><strong>Position Control:</strong> The stepper system provides precise, programmable positioning with microstep resolution, ensuring optimal can placement for the filling sequence.</p>
            </div>

            <div class="tech-highlight">
                <h3>Automated Filling Sequence</h3>
                <p>The filling operation follows a carefully orchestrated sequence:</p>

                <p><strong>1. Can Positioning:</strong> The elevator raises the can until StallGuard detection confirms proper seal compression against the rubber stopper.</p>

                <p><strong>2. Pressure Equalization:</strong> Before liquid transfer begins, the system pre-pressurizes the can with CO₂ to match the 80 PSI liquid pressure in the supply keg. This critical step prevents CO₂ from escaping the liquid when the fill valve opens.</p>

                <p><strong>3. Controlled Liquid Transfer:</strong> With pressure equalized, the fill valve opens. As liquid enters the can, displaced gas vents through a controlled vent valve, maintaining constant pressure and preventing turbulence.</p>

                <p><strong>4. Precision Metering:</strong> An inline flow sensor continuously measures dispensed volume. Upon reaching the target fill level, the fill valve closes.</p>

                <p><strong>5. Safe Depressurization:</strong> The system carefully vents pressure before lowering the can, preventing sudden pressure drops that could cause foaming or product loss.</p>
            </div>

            <div class="video-container">
                <h3>Automated System Demo</h3>
                <div class="video-wrapper">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/MKc96Zh9Lr8?si=TzzKC9Yjhse0uaak" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </div>

            <img src="../projects/bite water/photos/v2.png" alt="Version 2 automated filling system">

            <p>This automated system achieved consistent, repeatable fills while maintaining carbonation integrity—transforming a slow, manual process into a reliable, semi-automated production line.</p>

            <h2>Product Context: Bite Water</h2>

            <p>This automated filling system was developed to produce Bite Water, a caffeinated sparkling water product. The carbonated beverage combined the refreshment of sparkling water with coffee-equivalent caffeine levels, offering zero calories and zero sugar.</p>

            <img src="../projects/bite water/photos/cans.png" alt="Filled and sealed Bite Water cans">

            <p>Production utilized standard 5-gallon soda kegs for carbonation—these vessels allow CO₂ gas to dissolve into water under pressure. The challenge was transferring this carbonated liquid into individual aluminum cans while preserving carbonation levels.</p>

            <img src="../projects/bite water/photos/pallet.png" alt="Pallet of 3000 custom-labeled cans">

            <p>The project required custom can labeling and a minimum order of 3,000 cans due to manufacturing economies of scale, making automation essential for practical production.</p>

            <h2>Outcome & Business Lessons</h2>

            <p>The automated system successfully produced several hundred cans that were sold online. However, this experience revealed fundamental challenges in the direct-to-consumer beverage business: shipping costs for liquid products are prohibitively high, and aluminum cans are vulnerable to punctures and leaks during transit, risking entire shipments.</p>

            <p>To address distribution challenges, I partnered with a Stanford business student who secured agreements with campus cafes to retail Bite Water. Unfortunately, COVID-19 campus closures extended far longer than anticipated, delaying launch plans indefinitely.</p>

            <p>During this extended timeline, both Coca-Cola and PepsiCo launched competing products—AHA and Bubly Bounce, respectively—leveraging their established distribution networks and brand recognition to capture the caffeinated sparkling water market. These major competitors fundamentally changed the competitive landscape.</p>

            <p>Simultaneously, I accepted a position at Amazon Lab126 working on their home robot project—an opportunity to apply robotics and automation skills in a well-resourced R&D environment. Recognizing the market timing challenges and drawn to the technical possibilities of consumer robotics, I made the strategic decision to pivot from Bite Water to focus on this new role.</p>

            <p>This project taught valuable lessons about market timing, distribution challenges in the beverage industry, and the importance of recognizing when to redirect efforts toward better opportunities. The technical skills developed—precision control systems, automated sequencing, and pressure management—directly transferred to my subsequent robotics work.</p>

            <h2>Technical Stack</h2>
            <ul>
                <li>TMC2130 stepper motor drivers with StallGuard sensorless homing</li>
                <li>Lead screw-based Z-axis positioning system</li>
                <li>Precision flow metering for volume control</li>
                <li>Automated pneumatic valve control</li>
                <li>High-pressure seal design (80 PSI)</li>
                <li>CO₂ pressure equalization system</li>
                <li>Microcontroller-based sequence control</li>
                <li>Real-time pressure and flow monitoring</li>
            </ul>

            <a href="../about.html" class="back-btn">← Back to About</a>
        </main>

        <footer>
            <p>&copy; 2025 Atlatl & Co. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>